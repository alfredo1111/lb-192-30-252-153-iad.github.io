var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.getInstanceOf=function(e){e in t.activeInstances||(t.activeInstances[e]=t.generateInstanceFromName(e),t.activeInstanceReferences[e]=[]);var n=Date.now().toString();return t.activeInstanceReferences[e].push(n),{instance:t.activeInstances[e],release:function(){var o={className:e,instanceReferenceID:n};t.disposeOfInstanceReference(o)}}},t.disposeOfInstanceReference=function(e){var n=e.className;t.activeInstanceReferences[n]=(t.activeInstanceReferences[n]||[]).filter(function(t){return t!=e.instanceReferenceID}),t.activeInstanceReferences[n].length<1&&(t.activeInstances[n].dispose(),delete t.activeInstances[n],delete t.activeInstanceReferences[n])},t.generateInstanceFromName=function(t){for(var e=window,n=t.split("."),o=0;o<n.length;o++){if(!(n[o]in e))throw n[o]+" does not exist in "+n.splice(0,o).join(".");e=e[n[o]]}if("function"==typeof e)return new e;throw t+" is not a valid class name"},t.activeInstances={},t.activeInstanceReferences={},t}();t.ManagerFactoryImpl=e,t.ManagerFactory=e}(e=t.Application||(t.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.CreateComponentNode=function(t){console.debug("Rendering "+ko.utils.unwrapObservable(t.componentName));var e=document.createElement("div"),n={componentConfig:t};return ko.applyBindingsToNode(e,{component:{name:t.componentName,params:n}}),e},t}();t.KnockoutHelper=e}(e=t.Utils||(t.Utils={}))}(e=t.Knockout||(t.Knockout={}))}(e=t.Application||(t.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(){}return e.prototype.init=function(t,n,o,i,r){var a=n(),s=$(t),c=s.find(a.contentContainerSelector),u=[];if(a.drawer){var l=s.find(a.drawer.tabsContainerSelector),d=l.find(a.drawer.tabsSelector);d.length>0&&(d.attr("title","New"),d.click({value:"New"},function(t){e.showDrawer(d,s,a)}),ko.utils.domData.clear(d[0]),ko.applyBindings(i,d[0]))}for(var f=0;f<a.tabElementsGroups.length;f++){var p=a.tabElementsGroups[f],g=s.find(p.tabsContainerSelector);ko.utils.domData.clear(g[0]),ko.applyBindings(i,g[0]);var v=p.tabElements;e.updateTabGroup(g,c,s,v(),i,p,a),u.push(v.subscribe(e.tabGroupCallback(g,c,s,i,p,a)))}var m=s.find(".tab");if(m.length>0&&m.filter(".active").length<1){a.drawer&&(m=m.not(a.drawer.tabsSelector));var h=m.first();h&&h.addClass("active");var b=c.find(".panelContent").first();b&&b.removeClass("hide")}return ko.utils.domNodeDisposal.addDisposeCallback(t,function(){u.forEach(function(t){return t.dispose()})}),{controlsDescendantBindings:!0}},e.updateTabGroup=function(n,o,i,r,a,s,c){n.empty(),ko.cleanNode(o[0]);var u=null;if(r&&r.length>0){for(var l=0;l<r.length;l++){var d=r[l],f=ko.mapping.toJS(r[l]),p="tab"+s.id+"_"+l,g=document.createElement("div"),v=$(g);if(v.addClass(s.tabsClass+" "+p+" "+f.icon),v.attr("title",""+f.text),v.wrapInner(f.iconResource),n.append(g),f.componentName){var m=$(document.createElement("div"));m.addClass(c.contentContainerClass),m.addClass(p),m.addClass("hide");var h=t.Utils.KnockoutHelper.CreateComponentNode(d);m.append(h),ko.applyBindings(a,m[0]),o.find("."+p).remove(),o.append(m)}var b=function(t,n,o,i,r,a){return function(){a.tabIsExpanded&&a.tabIsExpanded(!0),e.showPanel("."+t,o,i,r),e.hideDrawer(a),n&&n()}},w=b(p,f.callback,n,o,i,c);v.click(w),(!u||f.isDefault)&&(u=w)}u()}var S=i.find(".tab");S.length>0?i.closest(".leftSidePanel:hidden").show():i.closest(".leftSidePanel").hide()},e.showPanel=function(t,e,n,o){var i=e.find(t);i.hasClass("active")||(o.find(".tab").removeClass("active"),i.addClass("active"),n.children().addClass("hide"),n.find(t).removeClass("hide"))},e.showDrawer=function(t,n,o){if(o.drawer){var i=$(o.drawer.contentContainerSelector);t.hasClass("active")?(n.children().first().addClass("active"),e.hideDrawer(o)):(n.children().removeClass("active"),t.addClass("active"),i.addClass("open"),e.hideDrawerButtonClick(i,t,n,o))}},e.hideDrawer=function(t){if(t.drawer){var e=$(t.drawer.contentContainerSelector),n=$(t.drawer.tabsSelector);n.removeClass("active"),e.removeClass("open")}},e.hideDrawerButtonClick=function(t,n,o,i){t&&t.length>0&&t.find(".switch").click({value:"Close"},function(t){e.hideDrawer(i),o.children().first().addClass("active")})},e.tabGroupCallback=function(t,n,o,i,r,a){return function(s){e.updateTabGroup(t,n,o,s,i,r,a)}},e}();e.TabControlBinding=n}(e=t.Bindings||(t.Bindings={}))}(e=t.Knockout||(t.Knockout={}))}(e=t.Application||(t.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.update=function(t,e,n,o,i){var r=ko.unwrap(e());for(var a in r){var s=r[a]||{};$(t)[a](s)}},t}(),n=function(){function t(){}return t.prototype.init=function(t,e,n,o,i){var r=ko.unwrap(e());r&&r(t)},t}(),o=function(){function t(){}return t.prototype.update=function(e,n,o,i,r){var a=n(),s=a&&a["switch"]?a["switch"]:t._switchDefaultSelector,c=$(e).find(s),u=a&&a.element?$(a.element):$(e),l=a&&a.expandOnClick?!0:!1,d=a&&a.collapsedSwitch?a.collapsedSwitch:null,f=a&&a.expandedSwitch?a.expandedSwitch:null,p=a&&a.collapsableClass?a.collapsableClass:t._collapsableClass,g=u.hasClass(p),v=a&&a.isExpanded?a.isExpanded:null;ko.isObservable(v)?v()?t.showPanel(u,c,p,d,f):t.hidePanel(u,c,p,d,f):(g&&d?c.addClass(d):!g&&f&&c.addClass(f),c.click(function(e){e.stopPropagation(),t.triggerPanel(u,c,p,d,f)}),l&&u.click(function(){t.showPanel(u,c,p,d,f)}))},t.triggerPanel=function(t,e,n,o,i){t.toggleClass(n),o&&e.toggleClass(o),i&&e.toggleClass(i)},t.showPanel=function(t,e,n,o,i){t.hasClass(n)&&(t.removeClass(n),o&&e.removeClass(o),i&&e.addClass(i))},t.hidePanel=function(t,e,n,o,i){t.hasClass(n)||(t.addClass(n),i&&e.removeClass(i),o&&e.addClass(o))},t._switchDefaultSelector=".switch",t._collapsableClass="collapsed",t}(),i=function(){function e(){}return e.prototype.init=function(e,n,o,i,r){var a=t.Utils.KnockoutHelper.CreateComponentNode(n());$(e).append(a)},e}(),r=function(){function t(){}return t.prototype.update=function(e,n,o,i,r){var a=ko.unwrap(n()),s=a.data(),c=a.config?a.config():null,u=a.handlers,l=a.contextMenuHandler;l&&(e.oncontextmenu=l),a.handler&&(u={select_node:a.handler}),t.buildTree(e,s,u,c)},t.buildTree=function(e,n,o,i){$(e).jstree("destroy");var r=$.extend({},{core:{data:n}}),a=$.extend({},t.defaultConfig,r,i),s=$(e).jstree(a).on("ready.jstree",function(){a.datastudio&&a.datastudio.open_all&&$(e).jstree("open_all")});for(var c in o)s.on(c+".jstree",o[c])},t.defaultConfig={core:{check_callback:!0,themes:{responsive:!0}},types:{"default":{icon:"none",valid_children:["default","level_1","server"]},server:{icon:"none"}},plugins:["state","types","wholerow"]},t}(),a=function(){function t(){}return t.prototype.init=function(t,e,n,o,i){var r=e();$(t).toggle(ko.utils.unwrapObservable(r))},t.prototype.update=function(t,e,n,o,i){var r=e();ko.utils.unwrapObservable(r)?$(t).slideDown("slow"):$(t).hide()},t}(),s=function(){function t(){}return t.prototype.update=function(t,e,n,o,i){var r=ko.unwrap(e());r.chartData(),$(t).get(0)},t}(),c=function(){function t(){}return t.prototype.init=function(e,n,o,i,r){this.arc=d3.svg.arc().startAngle(0).innerRadius(t.radius).outerRadius(t.radius-t.border),this.parent=d3.select($(e).get(0)),this.svg=this.parent.append("svg").attr("width",t.boxSize).attr("height",t.boxSize).attr("class","progress-svg"),this.g=this.svg.append("g").attr("transform","translate("+t.boxSize/2+","+t.boxSize/2+")"),this.meter1=this.g.append("g").attr("class","progress-meter"),this.meter1.append("path").attr("class","background").attr("fill","#ccc").attr("fill-opacity",.5).attr("d",this.arc.endAngle(t.twoPi)),this.numberText=this.meter1.append("text").attr("fill","#000").attr("text-anchor","middle").attr("dy",".35em"),this.meter2=this.g.append("g").attr("class","progress-meter"),this.frontSuccess=this.meter2.append("path").attr("class","foreground").attr("fill",t.colors.green).attr("fill-opacity",1),this.meter3=this.g.append("g").attr("class","progress-meter"),this.frontFail=this.meter3.append("path").attr("class","foreground").attr("fill",t.colors.red).attr("fill-opacity",1)},t.prototype.update=function(e,n,o,i,r){var a=ko.utils.unwrapObservable(n());this.frontSuccess.attr("d",this.arc.startAngle(0).endAngle(t.twoPi*a.successProgress)),this.frontFail.attr("d",this.arc.startAngle(t.twoPi*a.successProgress).endAngle(t.twoPi*a.totalProgress)),this.numberText.text(t.formatPercent(a.totalProgress))},t.colors={red:"#D13438",green:"#7fba00"},t.radius=80,t.border=10,t.padding=20,t.twoPi=2*Math.PI,t.formatPercent=d3.format("%"),t.boxSize=2*(t.radius+t.padding),t}(),u=function(){function u(){}return u.initialize=function(){ko.bindingHandlers.slide=new a,ko.bindingHandlers.collapse=new o,ko.bindingHandlers.jqueryUI=new e,ko.bindingHandlers.shellComponent=new i,ko.bindingHandlers.tabControl=new t.Bindings.TabControlBinding,ko.bindingHandlers.jsTree=new r,ko.bindingHandlers.chartControl=new s,ko.bindingHandlers.initHTML=new n,ko.bindingHandlers.d3CircleProgress=new c},u}();t.BindingHandler=u}(e=t.Knockout||(t.Knockout={}))}(e=t.Application||(t.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.getConfig=function(t,e){if(ko.components.isRegistered(t))e(null);else{var n=this.getComponentURL(t),o=this.getViewModelURI(n),i={require:o.toString()};e(i)}},t.prototype.loadTemplate=function(t,e,n){var o=this;ko.components.defaultLoader.loadTemplate(t,e,function(e){o.convertResourceUriForComponent(t,e),n(e)})},t.prototype.convertResourceUriForComponent=function(t,e){var n=this;if(!t||0===t.length)throw new Error("componentName is undefined or empty");if(e){var o=$(e).find("img[src], script[src], iframe[src], embed[src], input[src]");o.each(function(e,o){var i=o.getAttribute("src");if(i){var r=new URI(i);if(r.is("relative")){var a=n.getComponentURL(t).toString();if(0!==t.indexOf("uxshell")){var s="datastudio-"+t.slice(0,t.indexOf("-"));a=ModuleCatalog.getModuleRootUrl(s)+a}r=r.absoluteTo(a),r=r.normalizePathname(),o.setAttribute("src",r.toString())}}})}},t.prototype.getComponentURL=function(t){var e=t.split("-"),n=new URI("");return n.fragment(""),"uxshell"!==e[0]?(e[0]="datastudio-"+e[0],e.splice(1,0,"views")):e=ModuleCatalog.getModuleRootUrl("datastudio").split("/").concat(e),n.segment(e),n.segment(""),n},t.prototype.getViewModelURI=function(t){var e=t.clone(),n=e.segment(),o=n[n.length-2];return e.filename(o),e},t}(),n=function(){function t(){}return t.initialize=function(){ko.components.loaders.unshift(new e)},t}();t.ComponentLoader=n}(e=t.Knockout||(t.Knockout={}))}(e=t.Application||(t.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={})),ko=require("knockout");var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){}return e.initialize=function(n){var o=/^\/\??([^\/?]+)\/([^\/]+)\/?([^\?]*)\/?(\?.*?)?$/,i="",r=[o,i];r.forEach(function(e){crossroads.addRoute(e,function(e,n,o,i){var r={module:e,view:n,arguments:o,url:document.location.pathname+document.location.search,query:i||null};r.module&&0!==r.module.indexOf("id_token")||(r.module=e),r.view||(r.view=ModuleCatalog.getModule("datastudio-"+r.module).moduleContext.moduleConfig().defaultViewName()),t.Router.currentModule(r.module),t.Router.currentView(r.view),t.Router.currentArguments(r.arguments),t.Router.currentQuery(r.query),t.Router.currentRoute(r)})}),t.Router.currentView.subscribe(t.Router.emptyViewSubscriptions),crossroads.parse(document.location.pathname+document.location.search),Historyjs.Adapter.bind(window,"statechange",function(){crossroads.parse(document.location.pathname+document.location.search)}),$("body").on("click","a",e.onAnchorNavigated)},e.registerViewSubscription=function(e,n,o){e in t.Router.currentViewSubscriptions()||(t.Router.currentViewSubscriptions()[e]=n.subscribe(o))},e.emptyViewSubscriptions=function(){Object.keys(t.Router.currentViewSubscriptions()).forEach(function(e){t.Router.currentViewSubscriptions()[e].dispose()}),t.Router.currentViewSubscriptions({})},e.navigate=function(t,e,n){window.Historyjs&&("?"!==t[0]&&(t="?".concat(t)),Historyjs.pushState(e,n,t))},e.onAnchorNavigated=function(e){var n=$(this).attr("href");return!n||""===n||0===n.indexOf("#")||/^http(s?):\/\//.test(n)?!0:(e.preventDefault(),e.stopPropagation(),void t.Router.navigate(n))},e.currentRoute=ko.observable({}).extend({throttle:1}),e.currentModule=ko.observable(null).extend({throttle:1}),e.currentView=ko.observable(null).extend({throttle:1}),e.currentArguments=ko.observable(null).extend({throttle:1}),e.currentQuery=ko.observable(null).extend({throttle:1}),e.currentViewSubscriptions=ko.observable({}),e}();t.RouterImpl=e,t.Router=e}(e=t.Application||(t.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(e){var n=function(){function n(){}return n.initialize=function(o){var i=e.LoggerFactory.getLogger({loggerName:"ShellModulesInitializer"}),r=ModuleCatalog.getModules();r.forEach(function(e){var o=new t.DataStudio.UxShell.ModuleContextImpl(e);try{e.initialize(o)}catch(r){throw i.logError("Module initialization failed for module: "+e.name,{error:r}),r}i.logInfo("Module initialization completed successfully for module: "+e.name),n.moduleContexts.push(o);var a=o.moduleConfig().globalLeftPanel;a&&n.GlobalLeftPanelElements(n.GlobalLeftPanelElements().concat(a()))}),e.ShellContext.CurrentModuleContext=ko.computed(function(){var t=n.moduleContexts.filter(function(t){var e=o;return t.moduleConfig().name()===e})[0];return t||i.logError("Unable to find context for module:"+e.Router.currentModule()),t}).extend({rateLimit:{timeout:10,method:"notifyWhenChangesStop"}}),e.ShellContext.CurrentModuleViewConfig=ko.computed(function(){var t=e.ShellContext.CurrentModuleContext(),n=t.moduleConfig().views().filter(function(t){return t.name()==e.Router.currentView()})[0];return!n&&e.Router.currentView()&&i.logError("Unable to find context for module: "+e.Router.currentModule()+", view:"+e.Router.currentView()),n}).extend({rateLimit:{timeout:10,method:"notifyWhenChangesStop"}})},n.ShellName="Shell",n.globalSubscriptions=new ko.subscribable,n.CurrentRoute=e.Router.currentRoute,n.GlobalLeftPanelElements=ko.observableArray([]),n.LoadDuration=null,n.LeftPanelIsExpanded=ko.observable(!0),n.RightPanelIsExpanded=ko.observable(!0),n.moduleContexts=[],n}();e.ShellContextImpl=n}(n=e.Application||(e.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(e){var n=t.DataStudio.Diagnostics.Logging,o=function(){function t(){}return t.getLogger=function(e){return t.loggerFactory.getLogger(e)},t.loggerFactory=new n.LoggerFactory({moduleName:"Application"}),t}();e.LoggerFactory=o}(n=e.Application||(e.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(e){function n(t){var e=jwt.decode(t);if(o.isDefined(e.puid)){if(!o.isString(e.puid))return console.warn("Invalid PUID format: puid is present in the idToken, but it doesn't seem to be a string:",e.puid),"";var n=e.puid,i=/^[0-9A-Z]{16}$/;return i.test(n)||console.warn("Invalid PUID format: puid as a string is present in the idToken, but it doesn't match our regex/understanding:",n),n}if(o.isDefined(e.altsecid)){if(!o.isString(e.altsecid))return console.warn("Invalid PUID format: altsecid is present in the idToken, but it doesn't seem to be a string:",e.altsecid),"";var r=e.altsecid,a=/^1:live\.com:[0-9A-Z]{16}$/;if(!a.test(r))return console.warn("Invalid PUID format: altsecid as a string is present in the idToken, but it doesn't match our regex/understanding:",r),r;var s=r.split(":");return s[2]+"@Live.com"}return console.warn("Invalid PUID format: Neither 'puid' nor 'altsecid' seems to be present in the idToken for this user, understand better?:",e),""}var o=t.DataStudio.Diagnostics.TypeInfo;e.extractPuid=n}(n=e.AuthHelpers||(e.AuthHelpers={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var DiagnosticsHub=Microsoft.DataStudio.Diagnostics.Hub.DiagnosticsHub,Logging=Microsoft.DataStudio.Diagnostics.Logging,ObjectUtils=Microsoft.DataStudio.Diagnostics.ObjectUtils,Resx=Microsoft.DataStudio.Application.Resx,Microsoft;!function(t){var e;!function(e){var n;!function(e){function n(){var t=$("[data-version]").attr("data-version"),e=/(\d+)\.(\d+)$/.exec(t);return e?moment("4/7/2007").add(e[1],"days").format("YYYYMMDD")+"."+e[2]:"Unexpected format: "+t}var o=function(){function n(){}return n.updateSplashStatus=function(t){document.getElementById("splash-status").innerText=t},n.initializeAsync=function(o){var i=this,r=Q.defer(),a=(t.DataStudio.Managers.ConfigurationManager.instance,t.DataStudio.Managers.AuthenticationManager.instance);return n.updateSplashStatus(e.Resx.splashauthorizing),a.initializeAsync(n.getTenantIdFromUrl(window.location.href)).then(function(){PERF_OBJ.LOADING_STAGE7=(new Date).getTime(),i.initializeDiagnostics(a,o);var t=e.LoggerFactory.getLogger({loggerName:"Bootstrapper"});try{var n=i.coreInitialize(t,o);n.then(function(e){t.logInfo("Application bootstrapper promise succeeded!")},function(e){t.logError("Application bootstrapper promise failed!",{error:e})}),r.resolve(n)}catch(s){throw t.logError("Application bootstrapping failed!",{error:s}),r.reject(s),s}},function(t){t!==!0&&(console.error("Could not initialize authentication workflow.",t),r.reject(t))}),r.promise},n.coreInitialize=function(t,o){t.logInfo("BEGIN Application.Bootstrapper.coreInitialize()"),e.Knockout.BindingHandler.initialize(),e.Knockout.ComponentLoader.initialize();var i=new Promise(function(t,i){requirejs.config({packages:o.modules}),e.ShellContext=e.ShellContextImpl;var r=["history"];if(n.updateSplashStatus(e.Resx.splashloadingmodules),SHOULD_LOG_PERFORMANCE){e.ShellContext.LoadDuration=(new Date).getTime()-MICROSOFT_DATASTUDIO_LOAD_START;for(var a=1;PERF_OBJ["LOADING_STAGE"+a];)e.ShellContext["LoadDuration"+a]=PERF_OBJ["LOADING_STAGE"+a]-MICROSOFT_DATASTUDIO_LOAD_START,a++}var s="datafactory",c="datafactoryv2",u="";-1===window.location.href.indexOf("?datafactoryv2/")?(r.push("datastudio-datafactory"),u=s):(r.push("datastudio-datafactoryv2"),u=c),requirejs(r,function(){Historyjs=History,e.ShellContext.initialize(u),e.Router.initialize(u),ko.applyBindings({route:e.Router.currentRoute}),t()});var l=$("#splash-container");l.fadeOut(100,function(){l.remove()})});return t.logInfo("END Application.Bootstrapper.coreInitialize()"),i},n.initializeDiagnostics=function(e,n){DiagnosticsHub.configureEndpoint(t.DataStudio.Application.Environment.getAPIUrl("diagnosticshub/publish",n.useExternalAPI)),DiagnosticsHub.configureSession({sessionId:e.getCurrentUser().sessionId||"",userId:e.getCurrentUser().puid||""}),DiagnosticsHub.configureSusbscription({subscriptionId:"00000000-0000-0000-0000-000000000000",resourceGroupName:"",resourceName:"",provider:""})},n.getTenantIdFromUrl=function(t){var e;if(t){var n=t.match(/[\?&]tenantId=([^\?&\s]*)/);n&&n[1]&&(e=n[1])}return e},n}();e.Bootstrapper=o,e.BuildNumber=n}(n=e.Application||(e.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(n){var o=function(){function n(){if(n._instance)throw new Error("Error: Instantiation failed: USE [Microsoft.DataStudio.Managers.AuthenticationManager.instance] instead of new.");n._instance=this,this.authLogger=e.Application.LoggerFactory.getLogger({loggerName:"ConfigurationManager"})}return Object.defineProperty(n,"instance",{get:function(){return n._instance},enumerable:!0,configurable:!0}),n.prototype.initializeAsync=function(e){var n=this,o=Q.defer(),i=$.ajax(t.DataStudio.Application.Environment.getAPIUrl("config",e.useExternalAPI),{type:"GET"});return i.done(function(t){t?(n.config=t,n.authLogger.logInfo("Successfully got Configuration from the server",{url:n.config.DataServiceEndpoint}),o.resolve(t)):o.reject(new Error("Configuration is null"))}).fail(function(t){n.authLogger.logError("Failed to get the Configuration from the server"),o.reject(t)}),o.promise},n.prototype.getApiEndpointUrl=function(){return this.config&&this.config.DataServiceEndpoint?this.config.DataServiceEndpoint:""},n.prototype.getGalleryEndpointUrl=function(){return this.config&&this.config.GalleryEndpoint?this.config.GalleryEndpoint:""},n.prototype.getADCEndpoint=function(){return this.config&&this.config.ADCEndpoint?this.config.ADCEndpoint:""},n._instance=new n,n}();n.ConfigurationManager=o}(n=e.Managers||(e.Managers={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){this.storage={}}return t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype.getItem=function(t){return t?Promise.resolve(this.getByPath(t)):Promise.reject(new Error("path is null or undefined."))},t.prototype.setItem=function(t,e){return t?(this.setByPath(t,e),Promise.resolve()):Promise.reject(new Error("path is null or undefined."))},t.prototype.getByPath=function(t){var e=this.storage;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split("."),o=0,i=n.length;i>o;++o){var r=n[o];if(!(r in e))return;e=e[r]}return e},t.prototype.setByPath=function(t,e){var n=this.storage;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var o=t.split("."),i=0,r=o.length-1;r>i;++i){var a=o[i];n=a in n?n[a]:n[a]={}}n[o[o.length-1]]=e},t}();t.LocalStorageManager=e}(e=t.Managers||(t.Managers={}))}(e=t.Framework||(t.Framework={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(e){var n;!function(n){var o=t.DataStudio.Application.Resx;(function(){function t(){if(this.currentUser={name:"Guest",email:null,puid:null,token:null,sessionId:null,subscriptions:null},this._isSessionTimedout=!1,this.ShowSessionTimeoutNotification=function(){var t=$('<div class="session-timeout-container"></div>'),e=$('<div class="fade-box"></div>'),n=$('<div class="notification-bar"></div>'),i=$('<div class="notification-bar-message">Your session has timed out. Please click the OK button to login again.</div>').text(o.yourSessionHasTimedOut),r=$('<input type="button" value="OK" class="btn btn-primary">');i.append(r),n.append(i),t.append(e),t.append(n),r.click(function(t){window.location.reload()}),$("body").append(t)},this.TokenHeartBeatHandler=function(){var t=this;if(null!=this.token){var e=jwt.decode(this.token.idTokenRawValue);this.authLogger.logInfo("initiating heartbeat",{username:e.given_name,puid:this.currentUser.puid,timestamp2:new Date(Date.now())});var n=this.getTokenAsync();n.done(function(e){t.token=e}),n.fail(function(t){})}},t._instance)throw new Error("Error: Instantiation failed: USE [Microsoft.DataStudio.Managers.AuthenticationManager.instance] instead of new.");t._instance=this,this.authLogger=e.Application.LoggerFactory.getLogger({loggerName:"ServerAuthenticationManager"}),setInterval(function(t){return function(){t.TokenHeartBeatHandler()}}(this),48e4)}return Object.defineProperty(t,"instance",{get:function(){return t._instance},enumerable:!0,configurable:!0}),t.prototype.initializeAsync=function(){var t=this,n=Q.defer(),o=this.getTokenAsync();return o.done(function(o){if(null!=o.idTokenRawValue){var i=jwt.decode(o.idTokenRawValue);t.currentUser={name:i.given_name,email:o.email,puid:e.AuthHelpers.extractPuid(o.idTokenRawValue),token:i,sessionId:o.sessionId,subscriptions:o.subscriptions},t.authLogger.logInfo("Jwt Token successfully retreived",{username:i.given_name,mergedtoken:o}),n.resolve(o)}else n.reject(new Error("Error retrieved id token."))}),o.fail(function(t){n.reject(t)}),n.promise},t.prototype.login=function(){},t.prototype.logout=function(){},t.prototype.getAccessToken=function(t){var e=this;t&&(t=t.toLowerCase());var n=Q.defer();if(null!=this.token)if(this._isSessionTimedout)n.reject("Session timed out. Please reload page.");else if(null!==t){var o=$.grep(this.currentUser.subscriptions,function(e){return e.subscriptionid.toLowerCase()==t});o.length>0?n.resolve(o[0].access_token):n.reject("Provided subscription does not belong to current user.")}else n.reject("Subscription id not provided ");else{var i=this.getTokenAsync();i.done(function(o){if(e.token=o,null!=e.token.subscriptions)if(null!==t){var i=$.grep(e.currentUser.subscriptions,function(e){return e.subscriptionid.toLowerCase()==t});i.length>0?n.resolve(i[0].access_token):n.reject("Provided subscription does not belong to current user.")}else n.reject("Subscription id not provided ");else n.reject(e.token.message),e.token=null}),i.fail(function(t){e._isSessionTimedout||(e.ShowSessionTimeoutNotification(),e._isSessionTimedout=!0),n.reject(t)})}return n.promise},t.prototype.getAccessTokenADC=function(t){return Q("")},t.prototype.getCurrentUser=function(){return this.currentUser},t.prototype.getTokenAsync=function(){var t=this,e=Q.defer(),n=$.ajax("/token",{type:"POST",data:"grant_type=client_credentials"});return n.done(function(n){var o=JSON.parse(n.access_token);null!=o&&(null==o.message?(t.token=o,e.resolve(o)):e.reject(new Error(o.message))),e.reject(new Error("Error retreiving token from server"))}).fail(function(n){null!=n.responseJSON&&"invalid_client"==n.responseJSON.error&&(t._isSessionTimedout||(t.ShowSessionTimeoutNotification(),t._isSessionTimedout=!0)),e.reject(n)}),e.promise},t._instance=new t,t})()}(n=e.Managers||(e.Managers={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){this.data={}}return t.prototype.Get=function(t){return this.data[t]},t.prototype.Set=function(t,e){this.data[t]=e},t.prototype.Clear=function(t){this.data[t]=null},t}();t.DataStore=e;var n=function(){function t(){if(this.dataStore=new e,t._instance)throw new Error("Error: Instantiation failed: USE                                 [Microsoft.DataStudio.Services.DataHandler.instance] instead of new.");t._instance=this}return t.GetInstance=function(){return t._instance},t.prototype.GetData=function(t){var e=null;return t.useCache&&(e=this.dataStore.Get(t.url)),e||(e=Q(jQuery.ajax(t)),this.dataStore.Set(t.url,e)),e},t.prototype.VoidData=function(t){this.dataStore.Clear(t)},t._instance=new t,t}();t.DataHandlerImpl=n,t.DataHandler=n}(e=t.Services||(t.Services={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){this.shellConfigMock={defaultModuleName:"blueprint",modules:[{name:"datastudio-blueprint",location:"node_modules/@ms-atlas-module/datastudio-blueprint",main:"module"},{name:"datastudio-machinelearning",location:"node_modules/@ms-atlas-module/datastudio-machinelearning",main:"startup"},{name:"datastudio-datafactory",location:"node_modules/@ms-atlas-module/datastudio-datafactory",main:"bootstrapper/startup"},{name:"datastudio-datafactoryv2",location:"node_modules/@ms-atlas-module/datastudio-datafactoryv2",main:"bootstrapper/startup"},{name:"datastudio-dataconnect",location:"node_modules/@ms-atlas-module/datastudio-dataconnect",main:"service/main"},{name:"datastudio-streamanalytics",location:"node_modules/@ms-atlas-module/datastudio-streamanalytics",main:"startup"},{name:"datastudio-crystal",location:"node_modules/@ms-atlas-module/datastudio-crystal",main:"startup"},{name:"datastudio-solutionaccelerator",location:"node_modules/@ms-atlas-module/datastudio-solutionaccelerator",main:"startup"}]}}return t.prototype.getUserConfigAsync=function(t){return Promise.resolve(this.shellConfigMock)},t}();t.ShellConfigServiceImpl=e}(e=t.Services||(t.Services={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t){this.moduleConfig=ko.observable({}),this.mainInputValue=ko.observable(null),this.mainActionButtons=ko.observableArray([]),this._moduleInstance=t}return t}();t.ModuleContextImpl=e}(e=t.UxShell||(t.UxShell={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){this.bag=[]}return t.prototype.addEventListener=function(t,e,n,o){t.addEventListener(e,n,o),this.bag.push([t,e,n])},t.prototype.removeEventListeners=function(){for(;this.bag.length>0;){var t=this.bag.pop();t[0].removeEventListener(t[1],t[2])}},t}();t.EventListenerBag=e}(e=t.Knockout||(t.Knockout={}))}(e=t.Application||(t.Application={}))}(e=t.DataStudio||(t.DataStudio={}))}(Microsoft||(Microsoft={}));»œŒ3´ê      [Öâ[Öã?§çH[Øå9   }    :https://datafactory-endpoint.azureedge.net/node_modules/@ms-atlas/datastudio/datastudio.application.mainpage.js?v=1.0.4164.1 necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAQAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAOwMIIDrDCCApSgAwIBAgIERTJgTjANBgkqhkiG9w0BAQsFADCBijEUMBIGA1UEBhMLUG9ydFN3aWdnZXIxFDASBgNVBAgTC1BvcnRTd2lnZ2VyMRQwEgYDVQQHEwtQb3J0U3dpZ2dlcjEUMBIGA1UEChMLUG9ydFN3aWdnZXIxFzAVBgNVBAsTDlBvcnRTd2lnZ2VyIENBMRcwFQYDVQQDEw5Qb3J0U3dpZ2dlciBDQTAeFw0xNDEwMjgxMzEyMTBaFw0zODEwMjgxMzEyMTBaMHIxFDASBgNVBAYTC1BvcnRTd2lnZ2VyMRQwEgYDVQQKEwtQb3J0U3dpZ2dlcjEXMBUGA1UECxMOUG9ydFN3aWdnZXIgQ0ExKzApBgNVBAMTImRhdGFmYWN0b3J5LWVuZHBvaW50LmF6dXJlZWRnZS5uZXQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCKn7emKINsnWqPZ+C/VsqbQf/l4NsmIh34bXBR0xdNg9bfb+xcoghRlmbPjhZ/A26A2gJ6Rrg2d0GGMLpbqA8nTlRRGXEAD39321zk4ye09ElXClvqguGqdqOJpPQ05DPFD6wSOq+KVAEblE5bi+LMqBLipDERzgUe7xzeqVVk0i0ldh9yQOIk3YuzcBR9igSEuw5qladmMYvXKHYM9YZz0R7axMc8xAtadK7C9KfFPfEI5LS2nhmy4vBrTgFyYhfkEvKfmIj6HTX0ISFCAC2llcBLpEDcuiW76tAHp1pXDeWtSeaV36AeOctdleVgrbmsGs3fu6ppuRcWjEZUbjE3AgMBAAGjMTAvMC0GA1UdEQQmMCSCImRhdGFmYWN0b3J5LWVuZHBvaW50LmF6dXJlZWRnZS5uZXQwDQYJKoZIhvcNAQELBQADggEBAD5nTga0zudMitI/u0TfDiXUvU9MHWtnM1QsCR52LG8/P3zHlMPdW01WDRZUWTzCGka9MJHNjppqHPNsxY69i49nAksLYLzG7nK57bfwfvJQH/v27QUFGFMmKZNtpz+523V8pi+RJR9/DcmY0SQslyt1+Cj1SViKKOJYr8DiCwrYSUxWRp0XCM6ACnyoVhILHxIff7DQUE7Qq8eLX2UMcsrHHrlmbWpSCkEMtikIahIK4D2jjHj/CFWVzmKApRGZHRCenGUCvwPc6+mdefq6dna4yuo/9sC8unizedWeSL+sIj+Qxy7egEU4w3ZyvM8xUIozSNHY/VVwXW5ypPYqSlDALwEDAAAAAAEBAAAAAA== request-method GET request-Accept-Encoding gzip, deflate, br response-head HTTP/1.1 200 OK
Content-Type: application/javascript
Last-Modified: Sat, 06 Oct 2018 23:13:00 GMT
Accept-Ranges: bytes
Etag: "b370e20ca5dd41:0"
Server: Microsoft-IIS/8.5
X-Frame-Options: AllowAll
X-XSS-Protection: 1; mode=block
X-Content-Type-Options: nosniff
Strict-Transport-Security: max-age=15724800; includeSubDomains
Access-Control-Allow-Origin: *
Vary: Accept-Encoding
Content-Length: 29319
Date: Sun, 28 Oct 2018 18:50:11 GMT
 original-response-headers Content-Type: application/javascript
Last-Modified: Sat, 06 Oct 2018 23:13:00 GMT
Accept-Ranges: bytes
Etag: "b370e20ca5dd41:0"
Server: Microsoft-IIS/8.5
X-Frame-Options: AllowAll
X-XSS-Protection: 1; mode=block
X-Content-Type-Options: nosniff
Strict-Transport-Security: max-age=15724800; includeSubDomains
Access-Control-Allow-Origin: *
Vary: Accept-Encoding
Content-Length: 29319
Date: Sun, 28 Oct 2018 18:50:11 GMT
Connection: close
 uncompressed-len 0 net-response-time-onstart 951 net-response-time-onstop 951   r‡